<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta
        http-equiv="X-UA-Compatible"
        content="IE=edge"
    >
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0"
    >
    <title>Document</title>
    <style>
        #board {
            border-style: solid;
        }

        #board th {
            background-color: lightgray;
        }

    </style>
</head>

<body>
    <table id="board">
        <caption>Board</caption>
        <thead>
            <th>&nbsp;</th>
            <th id="column-th-1">1</th>
        </thead>
        <tbody>
            <tr id="row-2">
                <th id="row-th-2">2</th>
                <td id="tile-2-1">2-1</td>
            </tr>
        </tbody>
    </table>
    <pre id="messages">...</pre>
</body>
<script>

    /**
     * Return the id string for the th element with the given column index.
     * @param {number} columnIndex index of column
     */
    function idForColumnThElement(columnIndex) {
        return `column-th-${columnIndex}`;
    }

    /**
     * Return the id string for the tr element with the given row index.
     * @param {number} rowIndex index of row
     */
    function idForRowTrElement(rowIndex) {
        return `row-tr-${rowIndex}`;
    }

    /**
     * Return the id string for the th element with the given row index.
     * @param {number} rowIndex index of row
     */
    function idForRowThElement(rowIndex) {
        return `row-th-${rowIndex}`;
    }

    function fixRow(rowIndex) {
        let rowTrElementId = idForRowTrElement(rowIndex);
        let rowThElementId = idForRowThElement(rowIndex);
        /** @type {HTMLTableRowElement} */
        let rowTrElement = document.getElementById(rowTrElementId);
        if (rowTrElement === null) {
            rowTrElement = tbodyElement.insertRow();
            rowTrElement.id = rowTrElementId;
            let rowThElement = rowTrElement.insertCell();
            rowThElement.id = rowThElementId;
        }
    }

    function idForTile(rowIndex, columnIndex) { return `tile-${rowIndex}-${columnIndex}`; }

    /** @type {HTMLPreElement} */
    const messagesElement = document.getElementById("messages");
    /** @type {HTMLTableElement} */
    const boardElement = document.getElementById("board");
    const tbodyElement = boardElement.tBodies[0];
    const rowCount = 3;
    const columnCount = 2;
    for (let rowIndex = 0; rowIndex < rowCount; rowIndex++) {
        fixRow(rowIndex);
    }
</script>

</html>
